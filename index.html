<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>은행 앱 실행</title>
    <script>
        function openBankApp(bankUrl) {
            const urlParams = new URLSearchParams(window.location.search);
            const accountNumber = urlParams.get('account');
            let fullUrl = bankUrl;

            if (accountNumber) {
                fullUrl += "?account=" + accountNumber;
            }

            // iframe을 이용하여 강제 실행
            let iframe = document.createElement("iframe");
            iframe.style.display = "none";
            iframe.src = fullUrl;
            document.body.appendChild(iframe);

            // 일정 시간 후 앱이 실행되지 않으면 경고 표시
            setTimeout(function() {
                alert("앱이 설치되어 있지 않거나 실행이 차단되었습니다.");
                document.body.removeChild(iframe);
            }, 3000);
        }
    </script>
</head>
<body>
    <h2>송금할 은행을 선택하세요</h2>
    <ul>
        <li><a href="#" onclick="openBankApp('kbbank://'); return false;">국민은행</a></li>
        <li><a href="#" onclick="openBankApp('shinhan-sr-003://'); return false;">신한은행</a></li>
        <li><a href="#" onclick="openBankApp('wooribank://'); return false;">우리은행</a></li>
        <li><a href="#" onclick="openBankApp('hana1qpay://'); return false;">하나은행</a></li>
        <li><a href="#" onclick="openBankApp('ibk-bank://'); return false;">기업은행</a></li>
        <li><a href="#" onclick="openBankApp('nhb-bank://'); return false;">농협은행</a></li>
        <li><a href="#" onclick="openBankApp('kakao-bank://'); return false;">카카오뱅크</a></li>
        <li><a href="#" onclick="openBankApp('toss-bank://'); return false;">토스뱅크</a></li>
        <li><a href="#" onclick="openBankApp('kbank://'); return false;">K뱅크</a></li>
    </ul>

    <p style="margin-top: 20px; color: red; font-weight: bold;">
        앱이 설치되어 있지 않은 은행앱은 실행이 되지 않습니다.
    </p>
</body>
</html>
